
<div class="page__container page__container--col-2 page__container--calculator">
  <div class="page__content">
    <h1 class="page__title">Заявка на перевозку</h1>
    <p class="page__subtitle">Заполните форму необходимыми данными и отправьте</p>
    <app-order-steps [currentStep]="currentStep"></app-order-steps>
    <form class="form" autocomplete="off" [formGroup]="form" (ngSubmit)="onSubmit()">
      <div *ngIf="currentStep === 0">
        <section class="form__section">
          <h2 class="form__heading">Ваши данные</h2>
          <app-tabs>
            <app-tab-item>
              <app-tab-label>Физическое лицо</app-tab-label>
              <app-tab-body>
                <div class="form__fieldset form__fieldset--2-col-sm form__fieldset--3-col-xl">
                  <div class="form__field">
                    <label for="last-name" class="form__label">Фамилия<sup>*</sup></label>
                    <app-input id="last-name" type="text" name="last-name" formControlName="lastName"></app-input>
                  </div>
                  <div class="form__field">
                    <label for="first-name" class="form__label">Имя<sup>*</sup></label>
                    <app-input id="first-name" type="text" name="first-name"></app-input>
                  </div>
                  <div class="form__field">
                    <label id="middle-name" for="middle-name" class="form__label">Отчество<sup>*</sup></label>
                    <app-input type="text" name="middle-name"></app-input>
                  </div>
                  <div class="form__field">
                    <label id="email" for="email" class="form__label">E-mail<sup>*</sup></label>
                    <app-input type="text" name="email"></app-input>
                  </div>
                  <div class="form__field">
                    <label id="tel" for="tel" class="form__label">Телефон<sup>*</sup></label>
                    <app-input type="text" name="tel"></app-input>
                  </div>
                  <div class="form__field">
                    <label class="form__label">Роль</label>
                    <app-select [items]="cities"></app-select>
                  </div>
                </div>
              </app-tab-body>
            </app-tab-item>
            <app-tab-item >
              <app-tab-label>Юридическое лицо</app-tab-label>
              <app-tab-body>
                Не понятно какие данные...
              </app-tab-body>
            </app-tab-item>
          </app-tabs>
          <!-- <p class="form__help-text form__help-text--gray form__help-text--align-center">Выберите статус лица для перехода на следующий шаг</p> -->
          <!-- <p class="form__help-text">Чтобы оформить заказ как юридическое лицо,<br />вам необходимо <a href="#" class='link link--blue link--in-text'><span class='link__text'><span>войти</span></span></a>или <a href="#" class='link link--blue link--in-text'><span class='link__text'><span>зарегистрироваться</span></span></a></p> -->
        </section>
      </div>
      <div *ngIf="currentStep === 1">
        <section class="form__section">
          <h2 class="form__heading">Отправитель</h2>
          <div class="form__fieldset form__fieldset--2-col-sm">
            <div class="form__field form__field--full">
              <label for="fio" class="form__label">ФИО<sup>*</sup></label>
              <app-input type="text" id="fio" name="fio"></app-input>
            </div>
            <div class="form__field">
              <label class="form__label">Документ<sup>*</sup></label>
              <app-select [items]="cities"></app-select>
            </div>
            <div class="form__field">
              <label for="doc-data" class="form__label">Серия и номер документа<sup>*</sup></label>
              <app-input type="text" id="doc-data" name="doc-data"></app-input>
            </div>
            <div class="form__field">
              <label for="tel" class="form__label">Номер телефона<sup>*</sup></label>
              <app-input type="tel"  name="tel"></app-input>
            </div>
          </div>
        </section>
        <section class="form__section">
          <h2 class="form__heading">Пункт отправления</h2>
          <div class="form__fieldset form__fieldset--delivery-point form__fieldset--row-gap-lg">
            <div class="form__field form__field--location">
              <label for="destination" class="form__label">Населенный пункт<sup>*</sup></label>
              <app-input type="text" id="destination" name="destination"></app-input>
            </div>
            <div class="form__fieldset form__fieldset--department">
              <label class="form__label form__label--light form__label--full">Выберите отделение:</label>
              <div class="form__field">
                <app-radio checked="true">Владивосток, Гоголя 22</app-radio>
              </div>
              <div class="form__field">
                <app-radio>Владивосток, Карла Маркса</app-radio>
              </div>
            </div>
            <app-tabs>
              <app-tab-item>
                <app-tab-label>Сдать в отделение</app-tab-label>
                <app-tab-body>
                  <div class="form__fieldset form__fieldset--address">
                    <div class="form__field">
                      <label for="street-to" class="form__label">Улица</label>
                      <app-input type="text" name="street-to"></app-input>
                    </div>
                    <div class="form__field">
                      <label for="building-to" class="form__label">Дом, корус, строение</label>
                      <app-input type="text" name="building-to"></app-input>
                    </div>
                    <div class="form__field">
                      <label for="apartment-to" class="form__label">Кв. / офис</label>
                      <app-input type="text" name="apartment-to"></app-input>
                    </div>
                  </div>
                </app-tab-body>
              </app-tab-item>
              <app-tab-item >
                <app-tab-label>Вызвать курьера</app-tab-label>
                <app-tab-body>
                  <div class="form__fieldset form__fieldset--address">
                    <div class="form__field">
                      <label for="street-to" class="form__label">Улица</label>
                      <app-input type="text" name="street-to"></app-input>
                    </div>
                    <div class="form__field">
                      <label for="building-to" class="form__label">Дом, корус, строение</label>
                      <app-input type="text" name="building-to"></app-input>
                    </div>
                    <div class="form__field">
                      <label for="apartment-to" class="form__label">Кв. / офис</label>
                      <app-input type="text" name="apartment-to"></app-input>
                    </div>
                  </div>
                  <section class="form__fieldset form__fieldset--schedule">
                    <label class="form__label form__label--light">Удобное время для приезда курьера</label>
                    <div class="form__field">
                      <app-radio checked="true">8:00 - 14:00</app-radio>
                    </div>
                    <div class="form__field">
                      <app-radio checked="true">14:00 - 18:00</app-radio>
                    </div>
                  </section>
                </app-tab-body>
              </app-tab-item>
            </app-tabs>
            <div class="form__field form__field--delivery-date">
              <label for="destination" class="form__label">Дата отправки<sup>*</sup></label>
<!--              <app-datapicker></app-datapicker>-->
<!--              {{{ input type="text" id="destination" name="destination" error="Не заполнено"}}}-->
            </div>
          </div>
        </section>
      </div>
      <div *ngIf="currentStep === 2">
<!--        {{form.get('cargoParams') | json}}-->
        <div class="form__fieldset form__fieldset--tags">
          <app-tag *ngFor="let control of cargo.controls; let i = index;"
                   [index]="i"
                   [checked]="currentCargo === i"
                   (delete)="deleteCargo($event)"
                   (change)="selectCargo($event)" [@tag]="">
            Груз №{{i + 1}}
          </app-tag>
          <app-tag type="add" (click)="addCargo()"></app-tag>
        </div>
        <div *ngFor="let control of cargo.controls; let i = index;"
             class="form__section" [style]="{display: currentCargo === i ? 'block' : 'none'}" [@panel]="">
          <div class="form__fieldset form__fieldset--goods-type">
            <h2 class="form__heading form__heading--no-mgb">Тип груза:</h2>
            <div *ngFor="let type of goodsTypes"  class="form__field">
              <app-radio name="goods-type" (change)="selectGoodsType(type.id)">{{type.name}}</app-radio>
            </div>
          </div>
          <div *ngIf="currentGoodsType === GoodsType.Docs">
            <div class="form__field">
              <label class="form__label">Количество мест</label>
<!--              {{{ counter name="place-count" }}}-->
            </div>
          </div>
          <div *ngIf="currentGoodsType === GoodsType.Parcels">
            <div>
              <div class="form__fieldset form__fieldset--package">
                <div class="form__field">
                  <label class="form__label" for="package-count">Кол-во мест</label>
                  <app-input type="text" name="package-count"></app-input>
                </div>
                <div class="form__field">
                  <label class="form__label" for="package-weight">Вес</label>
                  <app-input type="text" name="package-weight" unit="кг"></app-input>
                </div>
                <div class="form__field">
                  <label class="form__label" for="package-width">Ширина</label>
                  <app-input type="text" name="package-width" unit="см"></app-input>
                </div>
                <div class="form__field">
                  <label class="form__label" for="package-height">Высота</label>
                  <app-input type="text" name="package-height" unit="см"></app-input>
                </div>
                <div class="form__field">
                  <label class="form__label" for="package-length">Длина</label>
                  <app-input type="text" name="package-length" unit="см"></app-input>
                </div>
                <div class="form__field form__field--align-center">
                  <label class="form__label">&#160;</label>
                  <app-btn type="button" mods="delete">
                    <svg-icon class="icon" src="assets/img/svg/delete.svg" width="18" height="18"></svg-icon>
                    Удалить
                  </app-btn>
                </div>

<!--                {{#if error}}-->
<!--                <div class="form__error">Габариты превышают допустимые значения 0,5×0,5×0,5 м. Перевозка невозможна.</div>-->
<!--                {{/if}}-->
              </div>

            </div>
            <app-btn type="button">Добавить еще 1 позицию</app-btn>
          </div>
          <div *ngIf="currentGoodsType === GoodsType.AutoDetails">
            <label class="form__label">Выберите тип запчасти</label>
            autodetails
<!--            {{> fieldset&#45;&#45;auto-part delete="true"}}-->
<!--            {{> fieldset&#45;&#45;auto-part }}-->
<!--            {{{ btn text="Добавить еще 1 позицию" }}}-->
            <dl class="form__details">
              <dt><b>Тип груза:</b></dt>
              <dd>Пожалуйста, выберите тип запчасти из списка. Если вы не нашли подходящей запчасти, рассчитайте стоимость обычной посылки.</dd>
            </dl>
          </div>
          <!--  <div data-content="goods-type-other">-->
          <!--    Что-то другое ...-->
          <!--  </div>-->
        </div>
<!--        {{> goods&#45;&#45;common-block}}-->
        <section class="form__section">
          <h2 class="form__heading">Получатель:</h2>
          <div class="form__fieldset form__fieldset--2-col-sm">
            <div class="form__field form__field--full">
              <label for="fio" class="form__label">ФИО<sup>*</sup></label>
<!--              {{{ input type="text" id="fio" name="fio" error="Не заполнено"}}}-->
            </div>
            <div class="form__field">
              <label for="tel" class="form__label">Номер телефона<sup>*</sup></label>
<!--              {{{ input type="tel" id="tel" name="tel" error="Не заполнено"}}}-->
            </div>
          </div>
        </section>
        <section class="form__section">
          <h2 class="form__heading">Пункт получения</h2>
          <div class="form__fieldset form__fieldset--pickup-point form__fieldset--row-gap-lg">
            <div class="form__field form__field--location">
              <label for="destination" class="form__label">Населенный пункт<sup>*</sup></label>
<!--              {{{ input type="text" id="destination" name="destination" error="Не заполнено"}}}-->
            </div>
            <div class="form__fieldset form__fieldset--department">
              <label class="form__label form__label--light form__label--full">Выберите отделение:</label>
              <div class="form__field">
<!--                {{{ radio name="department" label="Владивосток, Гоголя 22" }}}-->
              </div>
              <div class="form__field">
<!--                {{{ radio name="department" label="Владивосток, Карла Маркса" }}}-->
              </div>
            </div>
            <ul data-tabs class="form__tabs form__tabs--mg-top">
              <li>
                <a data-tabby-default href="#city-to-2">Встретить с автобуса</a>
              </li>
              <li>
                <a href="#city-from-2">Доставка курьером</a>
              </li>
            </ul>
            <div id="city-to-2" class="form__tabs-panel">
              Не понятно какие данные
            </div>
            <div id="city-from-2" class="form__tabs-panel">
<!--              {{> fieldset&#45;&#45;address}}-->
              <!-- {{> fieldset--schedule}} -->
            </div>
          </div>
        </section>
      </div>
      <div *ngIf="currentStep === 3">
        <section class="form__section form__section--w-underline">
          <h2 class="form__heading form__heading--w-counter">Отправитель</h2>
<!--          {{{ data-list items='[-->
<!--          {"name": "Ваша роль", "value": "Отправитель"},-->
<!--            {"name": "ФИО", "value": "Иванов Иван Иванович"},-->
<!--            {"name": "Телефон", "value": "+7(914)123-12-12"},-->
<!--            {"name": "E-mail", "value": "ivan@mail.ru"}]'-->
<!--          }}}-->
        </section>
        <section class="form__section form__section--w-underline">
          <h2 class="form__heading form__heading--w-counter">Пункт отправления</h2>
<!--          {{{ data-list items='[-->
<!--          {"name": "Населенный пункт", "value": "Владивосток"},-->
<!--            {"name": "Доставка курьером", "value": "ул. Кирова, д. 12, офис/кв. 66"},-->
<!--            {"name": "Дата отправки", "value": "22.11.2019"}]'-->
<!--          }}}-->
        </section>
        <section class="form__section form__section--w-underline">
          <h2 class="form__heading form__heading--w-counter">Получатель</h2>
<!--          {{{ data-list items='[-->
<!--          {"name": "ФИО", "value": "Иванов Иван Иванович"},-->
<!--            {"name": "Документ", "value": "Паспорт"},-->
<!--            {"name": "Номер документа", "value": "1234 123493"},-->
<!--            {"name": "Телефон", "value": "+ 7(914)123-12-12"}]'-->
<!--          }}}-->
        </section>
        <section class="form__section form__section--w-underline">
          <h2 class="form__heading form__heading--w-counter">Пункт получения</h2>
<!--          {{{ data-list items='[-->
<!--          {"name": "Населенный пункт", "value": "Уссурийск"},-->
<!--            {"name": "Доставка курьером", "value": "ул. Кирова, д. 12, офис/кв. 66"},-->
<!--            {"name": "Дата отправки", "value": "22.11.2019"}]'-->
<!--          }}}-->
        </section>
        <section class="form__section form__section--w-underline">
          <h2 class="form__heading form__heading--w-counter">Пункт получения</h2>
<!--          {{{ data-list items='[-->
<!--          {"name": "Характер груза", "value": "Посылка"}]'-->
<!--          }}}-->
          <div class="form__mark">Место №1</div>
<!--          {{{ data-list items='[-->
<!--          {"name": "Габариты", "value": "Ширина: <b>32 см</b>., Высота: <b>120 см</b>., Длина: <b>50 см</b>. "},-->
<!--          {"name": "Вес", "value": "12 кг."},-->
<!--          {"name": "Упаковка", "value": "Коробка картонная (4 шт), Сейф пакет (1 шт)"}]'-->
<!--          }}}-->
          <div class="form__mark">Место №2</div>
<!--          {{{ data-list items='[-->
<!--          {"name": "Габариты", "value": "Ширина: <b>32 см</b>., Высота: <b>120 см</b>., Длина: <b>50 см</b>. "},-->
<!--          {"name": "Вес", "value": "12 кг."},-->
<!--          {"name": "Упаковка", "value": "Коробка картонная (4 шт), Сейф пакет (1 шт)"}]'-->
<!--          }}}-->
        </section>
        <section class="form__section form__section--w-underline">
          <h2 class="form__heading form__heading--w-counter">Дополнительные услуги</h2>
<!--          {{{ data-list items='[-->
<!--          {"name": "Страховка", "value": "25 000 руб."},-->
<!--          {"name": "СМС-уведомления<br />отправителю", "value": "Нет"},-->
<!--          {"name": "СМС-уведомления<br />получателю", "value": "Нет"}]'-->
<!--          }}}-->
        </section>
        <section class="form__section">
          <div class="form__fieldset">
            <div class="form__field">
              <label class="form__label">Комментарий к заявке</label>
<!--              {{{ textarea id="user-comment" name="user-comment" }}}-->
            </div>
<!--            {{{ checkbox id="agree" name="agree" label="Нажимая кнопку «Отправить», я даю свое согласие на <a href='#' class='link link&#45;&#45;blue link&#45;&#45;in-text'><span class='link__text'>обработку моих персональных данных</span></a>" mods="sm"}}}-->
          </div>
        </section>
      </div>
      <div class="form__actions">
        <app-btn type="button" disabled="true" mods="back" (click)="goPrev()">
          <svg-icon class="icon" src="assets/img/svg/back.svg" width="24" height="20"></svg-icon>
          Назад
        </app-btn>
<!--        {{{ btn id="backStep" type="back" disabled="true" hidden="true"}}}-->
        <!-- {{{ btn type="submit" text="Далее" mods="lg"}}} -->
<!--        {{{ btn id="nextStep" type="button" text="Далее" mods="lg"}}}-->
        <app-btn type="button" mods="lg" (click)="goNext()">Далее</app-btn>
      </div>
    </form>
  </div>
<!--  {{> sidebar-calc-result }}-->
</div>
