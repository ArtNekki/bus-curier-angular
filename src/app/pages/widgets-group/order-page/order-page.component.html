<div class="page__container page__container--col-2 page__container--calculator">
  <div class="page__content">
    <h1 class="page__title">Заявка на перевозку</h1>
    <p class="page__subtitle">Заполните форму необходимыми данными и отправьте</p>
    <app-order-steps [invalidStep]="invalidStep" [currentStep]="currentStep"></app-order-steps>
    <form class="form" autocomplete="off" [formGroup]="form" (ngSubmit)="onSubmit()">
      <ng-container formArrayName="steps">
        <div *ngIf="currentStep === FormStep.One" [formGroup]="steps[FormStep.One]" [@panel]="">
          <app-author [formControlName]="FormControlName.Author" (selectUser)="setCurrentUser($event)"></app-author>
        </div>
        <div *ngIf="currentStep === FormStep.Two" [formGroup]="steps[FormStep.Two]" [@panel]="">
          <app-sender [formControlName]="FormControlName.Sender"></app-sender>
          <app-departure-point [formControlName]="FormControlName.DeparturePoint"></app-departure-point>
        </div>
        <div *ngIf="currentStep === FormStep.Three" [formGroup]="steps[FormStep.Three]" [@panel]="">
          <app-cargo-group formControlName="cargo-group"></app-cargo-group>
          <app-packaging [formControlName]="FormControlName.Packaging"></app-packaging>
          <app-services formControlName="services"></app-services>
          <app-recipient [formControlName]="FormControlName.Recipient"></app-recipient>
          <app-pickup-point [formControlName]="FormControlName.PickupPoint"></app-pickup-point>
        </div>
        <div *ngIf="currentStep === FormStep.Four" [formGroup]="steps[FormStep.Four]" [@panel]="">
<!--          <app-order-report [data]="form.value"></app-order-report>-->
          <section class="form__section">
            <div class="form__fieldset">
              <div class="form__field">
                <label class="form__label">Комментарий к заявке</label>
                <app-input type="textarea"></app-input>
              </div>
              <app-checkbox mods="sm">
                <ng-container class="text">
                  Нажимая кнопку «Отправить», я даю свое согласие на
                  <app-link href="#" mods="blue, in-text">обработку моих персональных данных</app-link>
                </ng-container>
              </app-checkbox>
            </div>
          </section>
        </div>
      </ng-container>
      <div class="form__actions">
        <app-btn type="button" disabled="true" mods="back" (click)="goPrev()">
          <svg-icon class="icon" src="assets/img/svg/back.svg" width="24" height="20"></svg-icon>
          Назад
        </app-btn>
<!--        {{{ btn id="backStep" type="back" disabled="true" hidden="true"}}}-->
        <!-- {{{ btn type="submit" text="Далее" mods="lg"}}} -->
<!--        {{{ btn id="nextStep" type="button" text="Далее" mods="lg"}}}-->
        <app-btn mods="lg" (click)="goNext()">Далее</app-btn>
      </div>
    </form>
  </div>
<!--  <app-sidebar-result [currentStep]="currentStep" [data]="form.value"></app-sidebar-result>-->
</div>
