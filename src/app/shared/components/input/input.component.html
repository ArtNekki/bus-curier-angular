<div *ngIf="type === 'textarea'; else input" [class]="cssClass + ' input--textarea'">
  <textarea #textarea [id]="id" class="input__field" [name]="name" [placeholder]="placeholder" [rows]="rows" [ngModel]="value" (ngModelChange)="changeValue($event)"></textarea>
  <div class="input__error">
    <ng-content select=".error"></ng-content>
  </div>
</div>

<ng-template #input>
  <div *ngIf="unit; else simpleInput" [class]="cssClass" [class.input--focused]="isFocused" (click)="onFocus()">
    <div class="input__field">
      <input #inputField [type]="type" [id]="id" [name]="name" [placeholder]="placeholder" hidden  />
      <span #editContent class="input__edit" contenteditable (blur)="onBlur()" (input)="changeValue(editContent.textContent)">{{ inputField.value}}</span>
      <span class="input__unit">{{unit}}</span>
    </div>
    <div class="input__error">
      <ng-content select=".error"></ng-content>
    </div>
  </div>
  <ng-template #simpleInput>
    <div [class]="cssClass">
      <input  *ngIf="mask; else withoutMask" #simpleInputField [type]="type" [id]="id" class="input__field" [placeholder]="placeholder" [mask]="mask" [prefix]="prefix" [ngModel]="value" (ngModelChange)="changeValue($event)" />
      <ng-template #withoutMask>
        <input #simpleInputField [type]="type" [id]="id" class="input__field" [placeholder]="placeholder" [ngModel]="value" (ngModelChange)="changeValue($event)" />
      </ng-template>
      <ng-content></ng-content>
    </div>
  </ng-template>
</ng-template>
